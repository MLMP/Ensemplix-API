Сервер
==========

| Метод | Описание | OA2 |
| ----- | -------- |:---:|
| [GET /server/game/](server.md#get-servergame) | Информация о игровых серверах. | - |
| [GET /server/web/](server.md#get-serverweb) | Информация о посетителях сайта. | - |
| [GET /server/events/](server.md#get-serverevents) | События за последние время на сервере. | - |
| [GET /server/stats/](server.md#get-serverstats) | Различная статистика сервера. | - |
| [GET /server/bans/](server.md#get-serverbans) | Список забаненных игроков. | - |
| [GET /server/news/](server.md#get-servernews) | Новости сервера. | - |
| [GET /server/launcher/](server.md#get-serverlauncher) | Версия лаунчера. | - |
| [GET /server/client/](server.md#getserverclient) | Версия сборки клиента. | - |

## ``` GET /server/game/ ``` 
Информация о игровых серверах. Обновление информации о статусе и игроках происходит раз в минуту.

### Параметры

Параметры не нужны.

### Пример запроса
``` 
http://enapi.ru/2.0/server/game/
```
### Пример ответа 
```json 
[{
   "name":"Amber",
   "players":0,
   "maximum":100,
   "online":false,
   "version":"1.4.7",
   "ip":"sv3.ensemplix.ru",
   "port":25565
},
{ 
   "name":"Carnage",
   "players":80,
   "maximum":80,
   "online":true,
   "version":"1.5.2",
   "ip":"sv1.ensemplix.ru",
   "port":25564
}]
```
### Пояснение параметров ответа
| Параметры | Пояснение |
| --------- | --------- |
| name      | Название сервера. |
| online    | Статус сервера. true - доступен. false - не доступен. |
| players   | Игроков на сервере. |
| maximum   | Максимальное количество игроков на спавне. |
| ip        | Ip Адрес на котором работает сервер. |
| port      | Порт на котором работает сервер. |
| version   | Версия сервера. |

## ``` GET /server/web/ ``` 
Информация о посетителях сайта

### Параметры

Параметры не нужны.

### Пример запроса
``` 
http://enapi.ru/2.0/server/web/
```
### Пример ответа 
```json 
{"web":{
    "guests":"49",
    "online":"73",
    "players":{
           "ensiriuswOw",
           "ensiriusNyashka",
           "Steb",
           "dosser",
           "qw33"
    },
    "total":"122"}
}
```
### Пояснение параметров ответа
| Параметры | Пояснение |
| --------- | --------- |
| guests    | Количество гостей на сайте. |
| online    | Количество игроков на сайте. |
| players   | Список игроков на сайте. |
| total     | Всего посетителей на сайте. |


## ``` GET /server/events/ ``` 
Различные важные события в жизни сервера.

### Параметры
| Параметры | Необходимость | Пояснение |
| --------- | ------------- | --------- |
| offset    | Опционально.  | Начало от куда делать выборку событий. По умолчанию 0. |

### Пример запроса
``` 
http://enapi.ru/2.0/server/events/
```
### Пример ответа 
```json 
{
     {
        "message":"dosser был исключен из состава модераторов",
        "created":"1377705038"
     },
     {
        "message":"SatoAV приобрел Super-Vip",
        "created":"1377705008"
     }
}
```
### Пояснение параметров ответа
| Параметры | Пояснение |
| --------- | --------- |
| message   | Событие.  |
| created   | Время в unix timestamp когда было создано событие. |

## ``` GET /server/stats/ ``` 
Различная статстика собранная сервером.

### Параметры

Параметры не нужны.

### Пример запроса
``` 
http://enapi.ru/2.0/server/stats/
```
### Пример ответа 
```json 
{
      "played":"6546456546",
      "expirence":"4354379097",
      "commands":"243543397",
      "chat":"43543797",
      "coins":"43543797"
}
```

### Статистика
| Параметр | Пояснение |
| --------- | --------- |
| played    | Количество секунд, которое провели на сервере игроки за все время.  |
| expirence | Опыт, который получили все игроки на сервере |
| commands  | Количество выполненых команд всеми игроками |
| chat      | Количетсво сообщений в чат, оставленных всеми игроками |
| coins     | Количество койнов у всех игроков |

## ``` GET /server/bans/ ``` 
Список забаненных игроков на сервере.

### Параметры
| Параметры | Необходимость | Пояснение |
| --------- | ------------- | --------- |
| offset    | Опционально.  | Начало от куда делать выборку событий. По умолчанию 0. |

### Пример запроса
``` 
http://enapi.ru/2.0/server/bans/
```
### Пример ответа 
```json 
{
    {
         "player":"web93onv",
         "reason":"1.4",
         "admin":"ensiriuswOw",
         "till":"1333118988",
    },
    {
         "player":"Mantis",
         "reason":"1.4",
         "admin":"ensiriuswOw",
         "till":"1333118988",
    },    
}
```
### Пояснение параметров ответа
| Параметры | Пояснение |
| --------- | --------- |
| player    | Забаненный игрок.  |
| reason    | Причина блокировки. |
| admin     | Админ который забанил игрока. |
| till      | Время в unix timestamp когда игрок будет разбанен. Что бы бан снялся, игрок должен зайти на сервер. Если -1, то забаненен навсегда. |
## ``` GET /server/news/ ``` 
Последние 5 новостей сервера.
### Параметры
Параметры не нужны.

### Пример запроса
``` 
http://enapi.ru/2.0/server/news/
```
### Пример ответа 
```json 
{
    {
         "id":"161",
         "header":"Переход на 1.5.2",
         "text":"Дорогие игроки нашего сервера! Рады сообщить вам, что почти все наши сервера успешно обновлены до версии 1.5.2.! К сожалению, мы не смогли перевести только Amber и Dedal, поскольку мода Divine RPG для 1.5.2 еще нет. ",
         "created":"1333118988",
         "views":"14279",
         "comments":"187"
    },
    {
         "id":"160",
         "header":"Отчет",
         "text":"Мы обещали, что как только будем уверены в стабильности серверов, мы тут же напишем новость. Теперь мы уверены.",
         "created":"1333118988",
         "views":"14279",
         "comments":"187"
    },  
}
```
### Пояснение параметров ответа
| Параметры | Пояснение |
| --------- | --------- |
| id    | Уникальный индификатор новости.  |
| header | Заголовок новости. |
| text  | Текст новости. |
| created | Время написания новости в unix timestamp. |
| views | Количество просмотров новости. |
| comments | Количество комментарияв к новости. |

## ``` GET /server/launcher/ ``` 
Версия лаунчера.

### Параметры
Параметры не нужны.

### Пример запроса
``` 
http://enapi.ru/2.0/server/launcher/
```
### Пример ответа 
```json 
{"version":"2.0"}
```
### Пояснение параметров ответа
| Параметры | Пояснение |
| --------- | --------- |
| version   | Версия лаунчера. |

## ``` GET /server/client/ ``` 
Версия сбоорки клиента.

### Параметры
Параметры не нужны.

### Пример запроса
``` 
http://enapi.ru/2.0/server/client/
```
### Пример ответа 
```json 
{"version":"1.6"}
```
### Пояснение параметров ответа
| Параметры | Пояснение |
| --------- | --------- |
| version   | Версия сборки клиента. |

