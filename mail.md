Почта
==========
Методы для работы с почтой игра. Все методы требуют OAuth токен.

| Метод | Описание | OA2 |
| ----- | -------- |:---:|
| [GET /mail/player/](mail.md) | Получить почту игрока. | + |
| [PUT /mail/send/](mail.md) | Отправить письмо. | + |
| [DELETE /mail/delete/](mail.md) | Удаляет почту игрока. | + |

## ``` GET /mail/player/ ``` 
Возвращает всю входяющию и исходяющию почту игрока. Не больше 100 писем за раз.

### Параметры

| Параметры | Необходимость | Пояснение |
| --------- | ------------- | --------- |
| token     | Обязательно.  | OAuth токен игрока. |
| offset    | Опционально.  | Начало выборки писем. |
| limit     | Опционально.  | Количество писем. Максимум 100. |


### Пример запроса
``` 
http://enapi.ru/2.0/mail/player/token/a43jbvc78ag8765/
```

### Пример ответа 
```json 
{"messages":{
      "mail": {
        "to":"dosser",
        "from":"Информатор",
        "header":"Получение 250 энсов",
        "text":"Вы получили 250 энсов.
         Благодарим Вас за поддержку сервера.",
        "created":"1377628970",
        "read":"1"
      },
      "mail": {
        "to":"dosser",
        "from":"Информатор",
        "header":"Получение 500 энсов",
        "text":"Вы получили 500 энсов.
         Благодарим Вас за поддержку сервера.",
        "created":"1377629570",
        "read":"1"
      }
}
```
### Пояснение параметров ответа
| Параметры | Пояснение |
| --------- | --------- |
| to        | Получатель письма. |
| from      | Отправитель письма. |
| header    | Заголовок письма. |
| created   | Время в unix timestamp когда было отправлено письм. |
| read      | Прочитали ли письмо. 0 - не прочитали. 1 - прочитали. |

### Возможные ошибки
| Ошибка | Пояснение |
| ------ | --------- |
| Please provide token. | Необходимо указать OAuth токен. |
| Incorrect token. | Неправильный OAuth токен. |
| Messages not found. | Не найдено писем для игрока. |


## ``` PUT /mail/send/ ``` 
Отправляет письмо другому игроку.

### Параметры

| Параметры | Необходимость | Пояснение |
| --------- | ------------- | --------- |
| token     | Обязательно.  | OAuth токен игрока. |
| target    | Обязательно.  | Кому нужно отправить письмо. |
| header    | Обязательно.  | Загаловок письма. |
| text      | Обязательно.  | Текст письма. |

### Пример запроса
``` 
http://enapi.ru/2.0/mail/send/
```

### Пример ответа 
```json 
{"success":"1"}
```

### Пояснение параметров ответа
| Параметры | Пояснение |
| --------- | --------- |
| success   | Письмо успешно отправлено. |

### Возможные ошибки
| Ошибка | Пояснение |
| ------ | --------- |
| Please provide token. | Необходимо указать OAuth токен. |
| Incorrect token. | Неправильный OAuth токен. |
| Provide target. | Укажите получателя письма. |
| Provide header. | Укажие заголовок письма. |
| Provide text. | Укажите текст письма. |
| Trying send yourself. | Вы пытаетесь отправить письмо самому себе. |
| Incorrect header. | Неправильный заголовок письма. Минимальная длинна 3 символа. |
| Player not exists. | Получатель письма с указанным ником не существует. |

## ``` DELETE /mail/delete/ ``` 
Удаляет письмо с указанным индификаторами.

### Параметры

| Параметры | Необходимость | Пояснение |
| --------- | ------------- | --------- |
| token     | Обязательно.  | OAuth токен игрока. |
| id        | Обязательно.  | Уникальный индификатор письма. |

### Пример запроса
``` 
http://enapi.ru/2.0/mail/delete/
```

### Пример ответа 
```json 
{"success":"1"}
```











