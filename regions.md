Регионы
==========
Описание различных методов для работы с регионами.

| Метод | Описание | OA2 |
| ----- | -------- |:---:|
| [GET /regions/info/](regions.md#get-regionsinfo) | Информация о регионе. | - |
| [GET /regions/search/](regions.md#get-regionssearch) | Поиск регионов по названию. | - |
| [GET /regions/location/](regions.md#get-regionslocation) | Получение информации о ближайший регионах. | - |
| [GET /regions/player/](regions.md#get-regionsplayer) | Информация о регионах игрока. | - |


## ``` GET /regions/info/ ``` 
Возвращает информацию о регионе.

### Параметры

| Параметры | Необходимость | Пояснение |
| --------- | ------------- | --------- |
| name      | Обязательно.  | Название региона. |
| world     | Обязательно.  | Игровой мир. |

### Пример запроса
``` 
http://enapi.ru/2.0/regions/info/spawn4/
```

### Пример ответа 
```json 
{"region": {
    "size": {
         "minX":"-35",
         "minY":"44",
         "minZ":"-344",
         "maxX":"-22",
         "maxY":"114",
         "maxZ":"-335",
         "volume":"500000"
    },
    "owners": [
          "V1TbOK",
          "f1n",
          "dj_koks"
    ],
    "members": [
          "ensiriuswOw",
          "Steb",
          "ensiriusNyashka"
    ],
    "flags": [
          "pistons",
          "potions",
          "no-pvp"
    ],
    "priority": "0",
    "parent": "spawn",
    "childs": [
          "spawn1",
          "spawn2",
          "spawn3"
    ],
    "created": "1377672685"}
}
```
### Пояснение параметров ответа
| Параметры | Пояснение |
| --------- | --------- |
| [size](regions.md#%D0%9E%D0%BF%D0%B8%D1%81%D0%B0%D0%BD%D0%B8%D0%B5-%D0%BF%D0%B0%D1%80%D0%B0%D0%BC%D0%B5%D1%82%D1%80%D0%BE%D0%B2-size) | Данные которые относятся к размеру региона. |
| owners    | Список игроков, которые владеют регионам. |
| members   | Список жителей в регионе. |
| flags     | Список [флагов](regions.md#%D0%A4%D0%BB%D0%B0%D0%B3%D0%B8) в регионе. |
| priority  | Приоритет региона. |
| parent    | Глобальный регион. |
| childs    | Локальные регионы. |
| created   | Время создания региона в unix timestamp. |

### Возможные ошибки
| Ошибка | Пояснение |
| ------ | --------- |
| Region not found. | Регион с таким названиям не найден. |
| Please provide region. | Необходимо указать регион. |
| Please provide world. | Необходимо указать игровой мир. |

## ``` GET /regions/search/ ``` 
Возвращает список регионов по поисковому запросу.
### Пример запроса
``` 
http://enapi.ru/2.0/regions/search/spawn/
```
### Параметры запроса

| Параметры | Необходимость | Пояснение |
| --------- | ------------- | --------- |
| region    | Обязательно.  | Поисковой запрос по названию региона. |

### Пример ответа 
```json 
{"regions":{
    "region": {
        "size": {
             "minX":"-35",
             "minY":"44",
             "minZ":"-344",
             "maxX":"-22",
             "maxY":"114",
             "maxZ":"-335",
             "volume":"500000"
        },
        "owners": [
              "V1TbOK",
              "f1n",
              "dj_koks"
        ],
        "members": [
              "ensiriuswOw",
              "Steb",
              "ensiriusNyashka"
        ],
        "flags": [
              "pistons",
              "potions",
              "no-pvp"
        ],
        "priority": "0",
        "parent": "spawn",
        "childs": [
              "spawn1",
              "spawn2",
              "spawn3"
        ],
        "created": "1377672685"
    }
}
```
### Пояснение параметров ответа
| Параметры | Пояснение |
| --------- | --------- |
| region    | Название региона. |
| [size](regions.md#%D0%9E%D0%BF%D0%B8%D1%81%D0%B0%D0%BD%D0%B8%D0%B5-%D0%BF%D0%B0%D1%80%D0%B0%D0%BC%D0%B5%D1%82%D1%80%D0%BE%D0%B2-size) | Данные которые относятся к размеру региона. |
| owners    | Списоок игроков, которые владеют регионам. |
| members   | Список жителей в регионе. |
| flags     | Список [флагов](regions.md#%D0%A4%D0%BB%D0%B0%D0%B3%D0%B8) в регионе. |
| priority  | Приоритет региона. |
| parent    | Глобальный регион. |
| childs    | Локальные регионы. |
| created   | Время создания региона в unix timestamp. |

### Возможные ошибки
| Ошибка | Пояснение |
| ------ | --------- |
| No regions found. | Регионов не найдено. |

## ``` GET /regions/location/ ``` 
Отображает список регионов в указанных коориданатах в радиусе 250 блоков, если не указанн радиус поиска.
Максимальный радиус поиска 500 блоков.

### Параметры запроса

| Параметры | Необходимость | Пояснение |
| --------- | ------------- | --------- |
| radius    | Опционально.  | Радиус поиска варпов. По умолчанию 250. Максимально 500. |
| x         | Обязательно.  | Координата по оси X. |
| z         | Обязательно.  | Координата по оси Z. |
| world     | Обязательно.  | Игровой мир. |

### Пример запроса
``` 
http://enapi.ru/2.0/regions/location/x/0/y/0/z/0/world/HiTech152/
```
### Пример ответа 
```json 
{"regions":{
    "region": {
        "size": {
             "minX":"-35",
             "minY":"44",
             "minZ":"-344",
             "maxX":"-22",
             "maxY":"114",
             "maxZ":"-335",
             "volume":"500000"
        },
        "owners": [
              "V1TbOK",
              "f1n",
              "dj_koks"
        ],
        "members": [
              "ensiriuswOw",
              "Steb",
              "ensiriusNyashka"
        ],
        "flags": [
              "pistons",
              "potions",
              "no-pvp"
        ],
        "priority": "0",
        "parent": "spawn",
        "childs": [
              "spawn1",
              "spawn2",
              "spawn3"
        ],
        "created": "1377672685"
    }
}
```
### Пояснение параметров ответа
| Параметры | Пояснение |
| --------- | --------- |
| region    | Название региона. |
| [size](regions.md#%D0%9E%D0%BF%D0%B8%D1%81%D0%B0%D0%BD%D0%B8%D0%B5-%D0%BF%D0%B0%D1%80%D0%B0%D0%BC%D0%B5%D1%82%D1%80%D0%BE%D0%B2-size) | Данные которые относятся к размеру региона. |
| owners    | Списоок игроков, которые владеют регионам. |
| members   | Список жителей в регионе. |
| flags     | Список [флагов](regions.md#%D0%A4%D0%BB%D0%B0%D0%B3%D0%B8) в регионе. |
| priority  | Приоритет региона. |
| parent    | Глобальный регион. |
| childs    | Локальные регионы. |
| created   | Время создания региона в unix timestamp. |

### Возможные ошибки
| Ошибка | Пояснение |
| ------ | --------- |
| No regions found. | В радиусе указанных координат нет регионов. |
| Please provide X coordinate. | Необходимо указать координату по оси X. |
| Please provide Z coordinate. | Необходимо указать координату по оси Z. |
| Please provide world. | Необходимо указать игровой мир. |
| Radius to small. | Минимальный радиус поиска 30 блоков. |
| Radius to big. | Максимальный радиус поиска 1000 блоков. |



## ``` GET /regions/player/ ``` 
Возвращает список регионов игрока.

### Параметры

| Параметры | Необходимость | Пояснение |
| --------- | ------------- | --------- |
| player    | Обязательно.  | Ник игрока. |

### Пример запроса
``` 
http://enapi.ru/2.0/regions/player/ensiriuswOw/
```

### Пример ответа 
```json
{"regions":{
    "region": {
        "size": {
             "minX":"-35",
             "minY":"44",
             "minZ":"-344",
             "maxX":"-22",
             "maxY":"114",
             "maxZ":"-335",
             "volume":"500000"
        },
        "owners": [
              "V1TbOK",
              "f1n",
              "dj_koks"
        ],
        "members": [
              "ensiriuswOw",
              "Steb",
              "ensiriusNyashka"
        ],
        "flags": [
              "pistons",
              "potions",
              "no-pvp"
        ],
        "priority": "0",
        "parent": "spawn",
        "childs": [
              "spawn1",
              "spawn2",
              "spawn3"
        ],
        "created": "1377672685"
    }
}
```
### Пояснение параметров ответа
| Параметры | Пояснение |
| --------- | --------- |
| region    | Название региона. |
| [size](regions.md#%D0%9E%D0%BF%D0%B8%D1%81%D0%B0%D0%BD%D0%B8%D0%B5-%D0%BF%D0%B0%D1%80%D0%B0%D0%BC%D0%B5%D1%82%D1%80%D0%BE%D0%B2-size) | Данные которые относятся к размеру региона. |
| owners    | Списоок игроков, которые владеют регионам. |
| members   | Список жителей в регионе. |
| flags     | Список [флагов](regions.md#%D0%A4%D0%BB%D0%B0%D0%B3%D0%B8) в регионе. |
| priority  | Приоритет региона. |
| parent    | Глобальный регион. |
| childs    | Локальные регионы. |
| created   | Время создания региона в unix timestamp. |

### Возможные ошибки
| Ошибка | Пояснение |
| ------ | --------- |
| No regions found. | Не были найдены записи о регионах у игрока. |
| Please provide player. | Необходимо указать игрока. |
| Player not exists. | Указанный игрок не существует. |

## Флаги

| Флаг | Пояснение |
| ------ | --------- |
| use    | Разрешает использовать механизмы на регионе, игрокам которые не вписаны. |
| animals | Разрешает убивать живность игрокам, которые не вписаны в регион. |
| ic | Разрешает пользоваться вещами для ic, bc, forestory вещей, игрокам которые не вписаны. |
| chest | Разрешает пользоваться сундуками, игрокам которые не вписаны. |
| vehicle | Разрешает использовать средства передвижения(вагонетки, лодки). |
| snow-fall | Отключает выпадание снега. |
| ice-form | Отключает формирование льда. |
| mushrooms | Отключает спавн грибов. |
| potions  | Включает урон от зелий. |
| ice-melt | Отключает таяние льда. |
| snow-melt | Отключает таяние снега. |
| pistons  | Включает поршни. |

## Описание параметров size
Регион состоит из 2-ух, min и max точек, которые образуют паралелипипед. У каждой точки свои x,y,z координаты.

![alt text][logo]
[logo]: http://ensemplix.ru/images/articles/guard0.png

| Параметры | Пояснение |
| --------- | --------- |
| minX      | Координата по оси X у точки min. |
| minY      | Координата по оси Y у точки min. |
| minZ      | Координата по оси Z у точки min. |
| maxX      | Координата по оси X у точки max. |
| maxY      | Координата по оси Y у точки max. |
| maxZ      | Координата по оси Z у точки max. |
| volume    | Размер региона. |











